@model VoxTics.Models.ViewModels.Cinema.CinemaDetailsVM

@{
    ViewData["Title"] = Model.Name;
    var images = ViewBag.Images as string[] ?? Array.Empty<string>();
}

@section Styles {
    <link rel="stylesheet" href="~/css/main/cinemas/cinema-details.css" />
}

<div class="cinema-details-container">
    <a href="@Url.Action("Index")" class="back-button">← Back to Cinemas</a>

    <!-- Main Image -->
    <div class="cinema-hero">
        <div class="cinema-image-container">
            <img src="@Model.DisplayImage" alt="@Model.Name" class="cinema-image" />
            <div class="cinema-overlay">
                <h1>@Model.Name</h1>
                <div>📍 @Model.City, @Model.Country</div>
            </div>
        </div>
    </div>

    <!-- Gallery -->
    @if (images.Any())
    {
        <div class="cinema-image-gallery">
            <h3>📸 Gallery</h3>
            <div class="gallery-grid">
                @foreach (var img in images)
                {
                    <div class="gallery-item">
                        <img src="@Url.Content($"~/uploads/cinemas/{Model.Id}/{img}")" alt="@Model.Name" />
                    </div>
                }
            </div>
        </div>
    }

    <!-- Stats Cards -->
    <div class="stats-cards">
        <div class="stat-card">
            <span class="stat-number">@Model.HallCount</span>
            <span class="stat-label">Halls</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">@Model.ShowtimeCount</span>
            <span class="stat-label">Showtimes</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">@Model.TotalSeats</span>
            <span class="stat-label">Total Seats</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">@Model.SocialMediaLinks.Count()</span>
            <span class="stat-label">Social Links</span>
        </div>
    </div>

    <div class="cinema-content">
        <div class="main-content">
            <div class="info-card description-card">
                <h3>📝 About This Cinema</h3>
                <p>@Model.Description</p>
            </div>

            @if (Model.Halls.Any())
            {
                <div class="info-card">
                    <h3>🎭 Halls (@Model.HallCount)</h3>
                    <div class="halls-grid">
                        @foreach (var hall in Model.Halls)
                        {
                            <div class="hall-card">
                                <div>@hall.Name</div>
                                <div>🪑 @hall.SeatCount seats</div>
                            </div>
                        }
                    </div>
                </div>
            }

            @if (Model.Showtimes.Any())
            {
                <div class="info-card">
                    <h3>🎬 Upcoming Showtimes (@Model.ShowtimeCount)</h3>
                    <ul>
                        @foreach (var s in Model.Showtimes)
                        {
                            <li>@s.StartTime.ToString("MMM dd, yyyy 'at' h:mm tt") - @s.MovieTitle</li>
                        }
                    </ul>
                </div>
            }
        </div>

        <div class="sidebar">
            <div class="info-card">
                <h3>📱 Contact Information</h3>
                <p>Email: <a href="mailto:@Model.Email">@Model.Email</a></p>
                <p>Phone: <a href="tel:@Model.Phone">@Model.Phone</a></p>
                <p>Website: <a href="@Model.Website" target="_blank">Visit Website</a></p>
            </div>

            <div class="info-card">
                <h3>📍 Address</h3>
                <p>@Model.Address, @Model.City, @Model.State, @Model.Country, @Model.PostalCode</p>
            </div>

            @if (Model.SocialMediaLinks.Any())
            {
                <div class="info-card">
                    <h3>🌐 Social Media</h3>
                    @foreach (var link in Model.SocialMediaLinks)
                    {
                        <a href="@link.Url" target="_blank">@link.Platform</a>
                
                        <br />
                    }
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/main/cinemas/cinema-details.js"></script>
}
