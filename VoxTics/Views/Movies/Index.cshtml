@using VoxTics.Helpers
@model PaginatedList<VoxTics.Models.ViewModels.MovieVM>

<h2 class="mb-4">Movies</h2>

<div class="mb-3">
    <form asp-action="Index" method="get" class="ajax-search-form" data-target="#cards-container">
        <div class="input-group">
            <input type="text" name="search" value="@(Model.RouteValues?["search"] ?? "")" class="form-control" placeholder="Search movies...">
            <select name="categoryId" class="form-select ajax-filter">
                <option value="">All categories</option>
                @* populate categories list as needed *@
            </select>
            <button class="btn btn-primary" type="submit">Search</button>
        </div>
    </form>
</div>

<div id="movies-container">
    <div id="cards-container">
        @await Html.PartialAsync("_MovieCards", Model)
    </div>

    @await Html.PartialAsync("~/Views/Shared/_Pagination.cshtml", Model, new ViewDataDictionary(ViewData) { { "Action", "Index" }, { "Controller", "Movies" }, { "Target", "#cards-container" } })
</div>
