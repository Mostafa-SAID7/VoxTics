@model VoxTics.Helpers.PaginatedList<VoxTics.Models.ViewModels.MovieVM>

<div class="space-y-6">
    <!-- Search & Filter -->
    <form id="filterForm" method="get" class="flex gap-2">
        <input type="text" name="search"
               value="@ViewContext.HttpContext.Request.Query["search"]"
               placeholder="Search cinemas..."
               class="border p-2 rounded w-full" />

        <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded">
            Search
        </button>
    </form>

    <!-- Movie cards (loaded via AJAX) -->
    <div id="moviesContainer">
        @await Html.PartialAsync("_MovieCards", Model)
    </div>

    <!-- Pagination -->
    <div class="mt-4">
        @await Html.PartialAsync("_Pagination", Model)
    </div>
</div>

@section Scripts {
    <script>
        $(document).on("submit", "#filterForm", function (e) {
            e.preventDefault();
            $.get('@Url.Action("Index")', $(this).serialize(), function (data) {
                $("#moviesContainer").html($(data).find("#moviesContainer").html());
            });
        });
    </script>
}
