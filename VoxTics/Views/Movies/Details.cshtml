@using VoxTics.Models.ViewModels
@model MovieVM

@{
    ViewData["Title"] = Model.Title;
}

<div class="container py-4">
    <div class="row">
        <div class="col-md-4">
            <img src="@(string.IsNullOrWhiteSpace(Model.ImageUrl) ? "/images/logo.png" : Model.ImageUrl)" class="img-fluid rounded shadow-sm" alt="@Model.Title" />
        </div>
        <div class="col-md-8">
            <h2 class="fw-bold">@Model.Title</h2>
            <p class="text-muted">@Model.Duration min | Released: @(Model.ReleaseDate.ToString("yyyy") ?? "-")</p>
            <p>@Model.Description</p>

            <p><strong>Price:</strong> @(Model.Price.ToString("C"))</p>

            @if (Model.Categories != null && Model.Categories.Any())
            {
                <div class="mb-2">
                    <strong>Categories:</strong>
                    @foreach (var cat in Model.Categories)
                    {
                        <a asp-controller="Categories" asp-action="Details" asp-route-id="@cat.Id" class="badge bg-primary me-1">@cat.Name</a>
                    }
                </div>
            }

            @if (Model.Actors != null && Model.Actors.Any())
            {
                <div class="mb-2">
                    <strong>Actors:</strong>
                    @foreach (var actor in Model.Actors)
                    {
                        <span class="badge bg-info text-dark me-1">@actor</span>
                    }
                </div>
            }

            <a href="@Url.Action("Index", "Movies")" class="btn btn-outline-secondary">Back to list</a>
        </div>
    </div>
</div>
